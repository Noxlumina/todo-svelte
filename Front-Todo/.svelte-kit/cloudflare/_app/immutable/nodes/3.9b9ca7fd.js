import{s as J,h as F,r as X}from"../chunks/scheduler.2e35c748.js";import{S as G,i as K,g as i,s as b,h as u,B as g,c as T,j as A,f as C,k as t,a as U,y as a,C as x,z as S}from"../chunks/index.2b2d73f1.js";import{g as Q}from"../chunks/navigation.339e0456.js";import{f as W}from"../chunks/index.01e535c7.js";import{a as Y}from"../chunks/index.f4a5b940.js";function Z(m){let d,_="<h1>Ajouter une nouvelle tâche</h1>",h,e,o,v,I="Nom :",D,n,L,p,r,w="Description :",q,c,O,E,y,H="Date limite :",P,f,V,j,R="Ajouter",k,z;return{c(){d=i("div"),d.innerHTML=_,h=b(),e=i("form"),o=i("div"),v=i("label"),v.textContent=I,D=b(),n=i("input"),L=b(),p=i("div"),r=i("label"),r.textContent=w,q=b(),c=i("textarea"),O=b(),E=i("div"),y=i("label"),y.textContent=H,P=b(),f=i("input"),V=b(),j=i("button"),j.textContent=R,this.h()},l(l){d=u(l,"DIV",{class:!0,"data-svelte-h":!0}),g(d)!=="svelte-13a0g52"&&(d.innerHTML=_),h=T(l),e=u(l,"FORM",{class:!0});var s=A(e);o=u(s,"DIV",{});var B=A(o);v=u(B,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),g(v)!=="svelte-1cg6vvx"&&(v.textContent=I),D=T(B),n=u(B,"INPUT",{type:!0,id:!0,class:!0}),B.forEach(C),L=T(s),p=u(s,"DIV",{});var M=A(p);r=u(M,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),g(r)!=="svelte-dp8wio"&&(r.textContent=w),q=T(M),c=u(M,"TEXTAREA",{id:!0,rows:!0,class:!0}),A(c).forEach(C),M.forEach(C),O=T(s),E=u(s,"DIV",{});var N=A(E);y=u(N,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),g(y)!=="svelte-3be51k"&&(y.textContent=H),P=T(N),f=u(N,"INPUT",{type:!0,id:!0,min:!0,class:!0}),N.forEach(C),V=T(s),j=u(s,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),g(j)!=="svelte-196fyld"&&(j.textContent=R),s.forEach(C),this.h()},h(){t(d,"class","title svelte-1sepej2"),t(v,"for","name"),t(v,"class","svelte-1sepej2"),t(n,"type","text"),t(n,"id","name"),n.required=!0,t(n,"class","svelte-1sepej2"),t(r,"for","description"),t(r,"class","svelte-1sepej2"),t(c,"id","description"),c.required=!0,t(c,"rows","4"),t(c,"class","svelte-1sepej2"),t(y,"for","dateLimite"),t(y,"class","svelte-1sepej2"),t(f,"type","date"),t(f,"id","dateLimite"),t(f,"min",W(Y(new Date,1),"yyyy-MM-dd")),f.required=!0,t(f,"class","svelte-1sepej2"),t(j,"type","submit"),t(j,"class","svelte-1sepej2"),t(e,"class","svelte-1sepej2")},m(l,s){U(l,d,s),U(l,h,s),U(l,e,s),a(e,o),a(o,v),a(o,D),a(o,n),x(n,m[0]),a(e,L),a(e,p),a(p,r),a(p,q),a(p,c),x(c,m[1]),a(e,O),a(e,E),a(E,y),a(E,P),a(E,f),x(f,m[2]),a(e,V),a(e,j),k||(z=[S(n,"input",m[4]),S(c,"input",m[5]),S(f,"input",m[6]),S(e,"submit",m[3])],k=!0)},p(l,[s]){s&1&&n.value!==l[0]&&x(n,l[0]),s&2&&x(c,l[1]),s&4&&x(f,l[2])},i:F,o:F,d(l){l&&(C(d),C(h),C(e)),k=!1,X(z)}}}function $(m,d,_){let h="",e="",o="",v=async function(p){try{const r=await fetch("https://localhost:3000/todos",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(p)});if(!r.ok)throw new Error("Erreur lors de l'ajout de la tâche");return await r.json()}catch(r){throw console.error("Erreur lors de l'ajout de la tâche :",r),r}};function I(p){p.preventDefault(),v({name:h,description:e,limitDate:o,isDone:!1}).then(w=>{_(0,h=""),_(1,e=""),_(2,o=""),Q("/todo")}).catch(w=>{console.error("Erreur lors de la soumission du formulaire :",w)})}function D(){h=this.value,_(0,h)}function n(){e=this.value,_(1,e)}function L(){o=this.value,_(2,o)}return[h,e,o,I,D,n,L]}class le extends G{constructor(d){super(),K(this,d,$,Z,J,{})}}export{le as component};
